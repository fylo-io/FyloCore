# FyloCore Staging Environment Configuration

# Application Settings
NODE_ENV=staging
PORT=8000
LOG_LEVEL=debug

# CORS and Security (moderate for staging)
CORS_ORIGIN=https://staging.fylocore.org
CORS_CREDENTIALS=true
HELMET_ENABLED=true

# Database Settings (Supabase)
# SUPABASE_URL=your_staging_supabase_url
# SUPABASE_SERVICE_ROLE_KEY=your_staging_supabase_service_role_key
# SUPABASE_ANON_KEY=your_staging_supabase_anon_key

# AI Service Settings
# ANTHROPIC_API_KEY=your_staging_anthropic_api_key
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_MAX_TOKENS=4000

# Authentication Settings
# JWT_SECRET=your_staging_jwt_secret
JWT_EXPIRES_IN=24h  # Shorter for staging
JWT_ALGORITHM=HS256

# Email Settings
# RESEND_API_KEY=your_staging_resend_api_key
EMAIL_FROM=noreply-staging@fylocore.org
EMAIL_ENABLED=true

# Redis Settings
REDIS_URL=redis://redis:6379
# REDIS_PASSWORD=your_staging_redis_password
REDIS_DB=1

# Rate Limiting (moderate for staging)
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# File Upload Settings
MAX_FILE_SIZE=20971520  # 20MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,md

# WebSocket Settings
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=30000
WEBSOCKET_PING_TIMEOUT=5000

# Staging-specific settings
HOT_RELOAD=false
DEBUG_SQL=true
ENABLE_SWAGGER=true
SWAGGER_EXPOSE=true  # Exposed for testing

# Docker Settings
COMPOSE_PROJECT_NAME=fylocore-staging
COMPOSE_FILE=docker-compose.prod.yml

# Frontend Staging Settings
REACT_APP_API_URL=https://api-staging.fylocore.org
REACT_APP_WS_URL=wss://api-staging.fylocore.org
REACT_APP_ENVIRONMENT=staging
REACT_APP_DEBUG=true

# Staging Tools
ENABLE_PLAYGROUND=true
MOCK_AI_RESPONSES=false
SEED_DATABASE=true  # Use test data

# Monitoring and Testing
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# Performance Settings (relaxed for staging)
CLUSTER_MODE=false
CLUSTER_WORKERS=1
COMPRESSION_ENABLED=true
CACHE_TTL=1800  # 30 minutes

# Security Settings (moderate for staging)
TRUST_PROXY=true
SESSION_SECURE=true
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax

# Testing and QA Settings
E2E_TESTING_ENABLED=true
PERFORMANCE_TESTING_ENABLED=true
TEST_USER_SEEDING=true
